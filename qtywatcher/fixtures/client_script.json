[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Sales Invoice",
  "enabled": 1,
  "modified": "2024-07-04 12:12:45.289476",
  "module": "qtywatcher",
  "name": "sales_invoice",
  "script": "frappe.ui.form.on('Sales Invoice', {\r\n    customer: function(frm) {\r\n        if (frm.doc.customer) {\r\n            frappe.call({\r\n                method: \"erpnext.accounts.utils.get_balance_on\",\r\n                args: {\r\n                    party_type: 'Customer',\r\n                    party: frm.doc.customer\r\n                },\r\n                callback: function(r) {\r\n                    if (r.message) {\r\n                        frm.set_value('custom_party_balance', r.message);\r\n                        console.log(\"Customer selected: \" + frm.doc.customer + \", custom balance set: \" + r.message);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n});",
  "view": "Form"
 }
]